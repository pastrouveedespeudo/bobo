{% include "menu_barrre_gauche_vent.html" %}
{% block content %}
{% endblock %}


  <header>
    <title>Map functionality is a script for follow the wind.</title>
    <div id='textes'>
        <div id='texte1'>
          <h1>Notre carte du vent</h1><br>
          aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
          aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
          aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
          aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
          aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
          aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
          aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
          aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
          aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
        </div>
      </div>
      <div id='texte2'class="col-lg-8 align-self-baseline">
          Titre<br>
          aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
          aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
          aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
          aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
          aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
          aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
          aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
          aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
          aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
          aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
      </div>
    </div>
  </header>

  <section>
    <div class="container">


      <div class="row justify-content-center">
        <div class="col-lg-12 text-center">
          <h2 class="text-white mt-0"></h2>


          <style>#map{margin-left:0px; padding:10px; height: 400px; width: 100%; display:none;}</style>
          <style>#map22{height: 300px; width: 650px;}</style>

          
          <div id="map2"></div>
          <br><br><br>

          


          <div id='secret' value=''>

          
          <div id="map"></div><br><br>
          <div class='container' id='inputs'>
          <input type='text' placeholder='Placez une ville'
              id='input_text'><br><br>
          
          <input type='button' value='valider' id='button_valider' style='border:2px solid black;'>
  
            <div>
            
            <center><input style='display:none;'
            type='button' value='valider'
              id='button_valider2'>
            <br>
            <input style='display:none;'
            type='button' value='stop'
              id='button_valider3'
              onclick='stop()'></center>
            </div>
          </div>

         




          <script>
            function stop(){
        
              document.getElementById('button_valider2').disabled = true;
              document.getElementById('button_valider2').style.display = 'none';
              
              document.getElementById('input_text').style.display = 'inline-block';
              document.getElementById('button_valider').style.display = 'inline-block';
       
          
            }
          </script>

          
          
          <script>
            var map;
            function initMap(lattitude, longitude, lat_dep, long_dep, liste) {
      
    
              map = new google.maps.Map(document.getElementById('map'), {
                center: {lat: lattitude, lng: longitude},
                zoom: 7
              });


              for(var i = 0; i < liste.length; i++){

                if(liste == undefined){
                  }
                else{
                  console.log(liste[i][0])
                  console.log(liste[i][1])
                  console.log('\n')
                  var marq1 = {lat: parseFloat(liste[i][0]), lng: parseFloat(liste[i][1])};
                  
                  var marker1 = new google.maps.Marker({
                    position: marq1,
                    map: map,
                  });
                }
              }
            
            document.getElementById('button_valider2').click();



       
            }

            
          </script>



          <script>
            var LISTE = [[],[],[],[],[],[],[],[]];
            var PREMIERE = []
            var NEW = []
            var POS = []

          </script>


          <script>
            $(document).ready(function(){
              $("#button_valider2").on("click", function(e){

                  
                
                  var a = document.getElementById('secret').value;
                  console.log('zaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa')
                  console.log(a);
                  
                  $.ajax({
                    data:{
                      'a':String(a),
                      
                    },
                    
                      type:"POST",
                      url:"/direction/map"
                  })
                  
                  .done(function(data){
                      if (data.error){
                          $("#monCadreAlert").text(data.error);
                          $("#monCadreHidden2");
                      }
                      
                      else{
                          $("#monCadreHidden2").html(data.data);
                          $("#monCadreAlert");
                          
                          the_liste = traitement(data);
                          
                          var dep = départ(the_liste);
                          var arr = arrivé(the_liste);
                          
                          POS.push([dep[0], dep[1]])
                          POS.push([arr[0], arr[1]])

                          document.getElementById('map').style.display = 'block';
                          
                          initMap(parseFloat(arr[0]), parseFloat(arr[1]),
                                  parseFloat(dep[0]), parseFloat(dep[1]), POS)

                          document.getElementById('button_valider3').style.display = 'inline-block';
                  
                          
                      };
                  });
              });
            });

          </script>





  <script>
    function traitement(data){

      var LISTE = [[],[],[],[]];

      var c = 0;
      for(var i = 0; i <= data.length; i ++){
        
        if(data[i] == ' '){
          c += 1
          
          }
        
        else{
          LISTE[c].push(data[i])
          
        };
      };
      return LISTE
    };
     





  function départ(liste){
    
      var a = liste[0]
      var b = liste[1]
      
      var lat = ''
      var long = ''

      for (var i = 0; i <= a.length; i++){
        lat += a[i]

      };

    for (var i = 0; i <= b.length; i++){
        long += b[i]
      };

      lat = lat.slice(0,-9)
      console.log('depart', lat)
      long = long.slice(0,-9)
      console.log('depart', long)
      
      var lat_long = [lat, long]
      NEW.push([lat_long])
      
      return lat_long

      
  };






    function arrivé(liste){

      console.log(liste)
      var a = liste[2].slice(1,-1)
      var b = liste[3].slice(0,-2)
      
      var lat = ''
      var long = ''

      for (var i = 0; i <= a.length; i++){
        lat += a[i]

      };

    
    for (var i = 0; i <= b.length; i++){
        long += b[i]
      };

      lat = lat.slice(0,-9)
      console.log('arrivé', lat)
      long = long.slice(0,-9)
      console.log('arrivé', long)
      var lat_long = [lat, long]
      
      document.getElementById('secret').value = '';
      document.getElementById('secret').value = lat_long;
      
      return lat_long
  };







  </script>




          <script>
              $(document).ready(function(){
                $("#button_valider").on("click", function(e){
                    document.getElementById('input_text').style.display = 'none';
                    document.getElementById('map2').style.display = 'none';
                    document.getElementById('button_valider').style.display = 'none';


                  
                    $.ajax({
                        data:{
                             'csrfmiddlewaretoken': '{{ csrf_token }}',
                            data:$("#input_text").val(),
                        },
                        type:"POST",
                        url:"/direction/map"
                    })
                    
                    .done(function(data){
                        if (data.error){
                            $("#monCadreAlert").text(data.error);
                            $("#monCadreHidden2");
                        }
                        
                        else{
                            $("#monCadreHidden2").html(data.data);
                            $("#monCadreAlert");
                            
                            the_liste = traitement(data);
                            
                            var dep = départ(the_liste);
                            var arr = arrivé(the_liste);
                            
                            POS.push([dep[0], dep[1]])
                            POS.push([arr[0], arr[1]])

                            

                            document.getElementById('button_valider2').disabled = false;
                            document.getElementById('map').style.display = 'block';
                            
                            initMap(parseFloat(arr[0]), parseFloat(arr[1]),
                                    parseFloat(dep[0]), parseFloat(dep[1]), POS)

                            document.getElementById('button_valider3').style.display = 'inline-block';


                        };
                    });
                });
              });
          </script>

   
      </div>
    </section><br><br><br><br><br><br>



  <style>
    #section_info{
      width:1000px;
      height:650px;      
    }
  </style>
  <center>
  <!-- Services Section -->
  <section id='section_info'>
  
    <div class="container">
    
      <h2 class="text-center mt-0">Notre carte</h2><br><br>

      <style>
        #un{

        }
        #deux{

        }
        #trois{
          margin:auto;
        }
      </style>
      <div class="row">

        <div id="trois" class="col-xs-12 col-md-4 col-lg-4 text-center">
          <strong>Son fonctionement</strong>
          <br><br>
          <p style='color:black'>Afin de la pouvoir visualiser le vent depuis notre carte google map.
          Nous nous servons de plusieurs sources.<br><br>
          
          La première est un site web sur la météo sur lequel nous prenons le sens du vent
          par identification de la ville et du code postal que nous prenons sur Wikipédial.<br><br>
          
          Ensuite nous utilisons le service de google map afin de pouvoir afficher la carte.
          <brAfin de pouvoir utiliser cette map, nous utilisons des coordonées GPS par
          Nominatim Geocoder. Et utilisons Google pour récupérer la superficie de la ville pour
          calculer les nouvelles coordonées.</p><br><br><br>

          <span style='float:left; color:black;'><i>*www.Wikipédia.fr</i></span><br>
          <span style='float:left; color:black;'><i>*www.google.fr</i></span><br>
          <span style='float:left; color:black;'><i>*https://pypi.org/project/geopy/</i></span><br>
          <span style='float:left; color:black;'><i>*https://www.lameteoagricole.net/</i></span><br>
          <span style='float:left; color:black;'><i>*https://www.google.fr/maps/</i></span><br>
    
        </div>

     


        <div id="un" class="col-xs-6 col-md-4 col-lg-4 text-center">
          <strong>Son Interet</strong><br><br>
          
          <p style='color:black'>La pollution est transportable par les airs.
          De ce fait le vent la transporte. Nous pensons que cet carte permet de pouvoir savoir
          si le vent nous amène ou nous enelève la pollution et de pouvoir par une simple visualisation
          constater le mouvement du vent et donc de la pollution.<br><br>
          Nous pouvons donc voir la pollution et son déplacement.</p>
        </div>

        <div id="deux" class="col-xs-6 col-md-4 col-lg-4  text-center">
          <strong>Son utilisation</strong><br><br>

          <p style='color:#black'>Entrez une ville de France, laissez charger,
          et regardez !
          <br><br> Appuyer sur stop arrete le processus. Les marqueures ne seront pas
          réinitialisés.

          </p>
        </div>

        
      </div>

        
      
    </div>
  </section></center><br><br><br><br>
















  <!-- Call to Action Section -->
  <section class="page-section bg-dark text-white" id="reso">
    <div class="container text-center">
      <h2 class="mb-4">Abonne toi sur nos reseaux sociaux !</h2>


                 
           <style>#im10{width:100px; height:100px;margin-left:50px;}</style>
           <img src = "/static/img/portfolio/icone/facebook.png"/ id="im10">

                                
            <style>#im11{width:100px; height:100px;margin-left:100px;}</style>
           <img src = "/static/img/portfolio/icone/twitter.png"/ id="im11">

                  
           <style>#im12{width:200px; height:200px;margin-left:100px;}</style>
           <img src = "/static/img/portfolio/icone/snap.png"/ id="im12">
                    
    </div>
  </section>


































  <!-- Contact Section -->
  <section class="page-section" id="contact">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-lg-8 text-center">
          <h2 class="mt-0">Let's Get In Touch!</h2>
          <hr class="divider my-4">
          <p class="text-muted mb-5">Ready to start your next project with us? Give us a call or send us an email and we will get back to you as soon as possible!</p>
        </div>
      </div>
      <div class="row">
        <div class="col-lg-4 ml-auto text-center">
          <i class="fas fa-phone fa-3x mb-3 text-muted"></i>
          <div>+1 (202) 555-0149</div>
        </div>
        <div class="col-lg-4 mr-auto text-center">
          <i class="fas fa-envelope fa-3x mb-3 text-muted"></i>
          <!-- Make sure to change the email address in anchor text AND the link below! -->
          <a class="d-block" href="mailto:contact@yourwebsite.com">contact@yourwebsite.com</a>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="bg-light py-5">
    <div class="container">
      <div class="small text-center text-muted">Copyright &copy; 2019 - Start Bootstrap</div>
    </div>
  </footer>

  <!-- Bootstrap core JavaScript -->
  <script src="/static/vendor/jquery/jquery.min.js"></script>
  <script src="/static/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

  <!-- Plugin JavaScript -->
  <script src="/static/vendor/jquery-easing/jquery.easing.min.js"></script>
  <script src="/static/vendor/magnific-popup/jquery.magnific-popup.min.js"></script>

  <!-- Custom scripts for this template -->
  <script src="/static/js/creative.min.js"></script>

</body>




<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBqJf5bBiufgiWCK34KcdmPt4Zhsp4oRCc&callback=initMap"
  async defer></script>






</html>









<style>
  h1{
    color:black;
    font-family:"cursive";
  }
  h2{
    color:black;
    font-family:"cursive";
  }
  #input_text{
    text-align:center;
    border:2px solid black;
  }


@media screen and (min-width: 320px) and (max-width:375px) {
  #logo{
    display:none;
  }
  #MENU{
    display:none;
  }
  #textes{
    margin-left:10px;
    font-size:4vw;
  }
  #texte1{
    text-align:center;
    font-size:5vw;
    word-wrap: break-word;
  }
  #texte2{
    margin-top:20px;
    text-align:center;
    font-size:5vw;
    
  }
  #inputs{
    font-size:4.5vw;
  }
  #section_info{
    font-size:4.5vw;
    width:320px;
    height:1500px;
  }
  #input_text{
    width:250px;
  }
}


@media screen and (min-width: 375px) and (max-width:425px) {
  #logo{
    display:none;
  }
  #MENU{
    display:none;
  }
  #textes{
    margin-left:10px;
    font-size:3vw;
  }
  #texte1{
    text-align:center;
    font-size:5vw;
    word-wrap: break-word;
  }
  #texte2{
    margin-top:20px;
    text-align:center;
    font-size:5vw;
    
  }
  #inputs{
    font-size:4vw;
  }
  #section_info{
    font-size:4vw;
    width:370px;
    height:1500px;
  }
  #input_text{
    width:300px;
  }
}

@media screen and (min-width: 425px) and (max-width:768px) {
  #logo{
    display:none;
  }
  #MENU{
    display:none;
  }
  #textes{
    margin-left:10px;
    font-size:4vw;
  }
  #texte1{
    text-align:center;
    font-size:3vw;
    word-wrap: break-word;
  }
  #texte2{
    margin-top:20px;
    text-align:center;
    font-size:3vw;
    
  }
  #inputs{
    font-size:3vw;
  }
  #section_info{
    font-size:3vw;
    width:400px;
    height:2000px;
    text-align:justify;
  }
  #input_text{
    width:80%;
  }
}


@media screen and (min-width: 768px) and (max-width:991px) {
  #logo{
    display:none;
  }
  #MENU{
    display:none;
  }
  #textes{
    margin-left:10px;
    font-size:3vw;
  }
  #texte1{
    text-align:center;
    font-size:2vw;
    word-wrap: break-word;
  }
  #texte2{
    margin-top:20px;
    text-align:center;
    font-size:2vw;
    
  }
  #inputs{
    font-size:2vw;
  }
  #section_info{
    font-size:2vw;
    width:760px;
    height:2000px;
    text-align:justify;
  }
}

@media screen and (min-width: 991px) and (max-width:1024px) {
  #logo{
    display:none;
  }
  #MENU{
    display:none;
  }
  #textes{
    margin-left:10px;
    font-size:3vw;
  }
  #texte1{
    font-size:2vw;
    word-wrap: break-word;
    margin-left:500px;
    width:400px;
  }
  #texte2{
    margin-top:20px;
    text-align:center;
    font-size:2vw;
    
    
  }
  #inputs{
    font-size:1.5vw;
  }
  #input_text{
    width:300px;
  }
  #section_info{
    font-size:2vw;
    width:990px;
    height:1000px;
    text-align:justify;
  }

}





@media screen and (min-width: 1024px) and (max-width:1200px) {
  #textes{
    margin-left:10px;
    font-size:3vw;
  }
  #texte1{
    font-size:1.5vw;
    word-wrap: break-word;
    margin-left:500px;
    width:400px;
  }
  #texte2{
    margin-top:20px;
    text-align:center;
    font-size:1.5vw;
    width:300px;
    margin-left:80px;
    
    
  }
  #inputs{
    font-size:1.5vw;
  }
  #input_text{
    width:300px;
  }
  #section_info{
    font-size:1.7vw;
    width:990px;
    height:1000px;
    text-align:justify;
  }

}



@media screen and (min-width: 1200px) and (max-width:1500px) {
  #textes{
    margin-left:10px;
    border:1px solid transparent;
  }
  #texte1{
    width:600px;
    text-align:center;
    float:right;
    margin-right:150px;
  }
  #texte2{
    width:200px;
    margin-left:150px;
    margin-top:400px;
  }
  #inputs{
    font-size:1vw;
  }
  #input_text{
    width:300px;
  }
  #section_info{
    font-size:1vw;
    width:990px;
    height:1000px;
    text-align:justify;
  }

}










</style>





















