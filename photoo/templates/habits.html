{% include "barre_gauche_prediction.html" %}
{% block content %}
{% endblock %}


<link rel="stylesheet" type="text/css" href="/static/css/prediction.css" media="all" />

  <style>
    #text{
      float:right;
      margin-right:250px;
      width:200px;
    }
    #conteneur{
      margin-top:450px;
    }
    #choix{
      text-align:center;
      font-size:20px;
    }
    #pred{
      text-align:center;
      font-size:20px;
    }
  </style>




  <div id='text'>
    <h1>La prédiction</h1><br>
    aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
    aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
    aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
    aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
    aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
    aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
    aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
    aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
    aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
    aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
    aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
    aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
    aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
    aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
    aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
    aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
    aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
    aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
    aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
    
    
    
  </div>
  


  <!-- Prediction Section -->
  <div>



<style>
      #lyon_button:hover,
      #paris_button:hover,
      #marseille_button:hover{
        background:#ccccff;
      }
      #marseille_button{
        background-color: transparent;
        border: 1px solid black;
        color: black;
        padding: 15px 32px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 16px;
      }
      #paris_button{
        background-color: transparent;
        border: 1px solid black;
        color: black;
        padding: 12px 20px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 16px;
      }
      #lyon_button{
        background-color: transparent;
        border: 1px solid black;
        color: black;
        padding: 15px 32px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 16px;
      }
      #graphes_min{
        float:right;
      }
      #separate_line1,
      #separate_line2,
      #separate_line3{
        height:2px;
        width:25px;
        background:black;
      }
      #p_ville1,
      #p_ville2,
      #p_ville3{
        font-size:2vw;
        text-align: center;
      }
      #marseille1,
      #paris1,
      #lyon1{
        border:none;
        background:transparent;
      }
      input{
        border:none;
        background:transparent;
      }
      #choix{
        height:50px;
      }
      a{
        color:black;
        text-decoration:none;
      }
      a:hover{
        color:black;
      }
      a:visited{
        
      }
    </style>


      <br><br><br><br><br><br>
      
      <div class="container" id="conteneur">
        <div class="row">

          <div class="col-sm" id='p_ville1'>

            <center><div id="info1" style='width:100px; height:50px;'></div></center>

            <center><div id='separate_line1'></div>

            <input type='button' id='lyon'
              onmouseover="one('separate_line1', 'info1')"
              onmouseout="two('separate_line1', 'info1')"
              value='Lyon'></center>


          </div>









          
          <div class="col-sm" id='p_ville2'>

            <center><div id="info2" style='width:200px; height:50px;'></div></center>
            
            <center><div id='separate_line2'></div>
            
            
            <input type='button' id='marseille'
            onmouseover="one('separate_line2', 'info2')"
              onmouseout="two('separate_line2', 'info2')"
              value='Marseille'>
            </p></center>

            
          </div>


          
          <div class="col-sm" id='p_ville3'>


            <center><div id="info3" style='width:100px; height:50px;'></div></center>

      
            <center><div id='separate_line3'></div>
            
            <input type='button' id='paris'
                onmouseover="one('separate_line3', 'info3')"
                onmouseout="two('separate_line3', 'info3')"
                value='Paris'>
            </p></center>

            
          </div>
         </div>

   
        <br>
        <p id='choix'></p>
        <center><p id='chargement' style='display:none'><img src='/static/img/portfolio/icone/chargement1.gif' width='80' height='80'></p></center>
        <div id='pred'></div>

          
        </div>

        <div><br>




  </div><br><br><br><br><br><br><br><br><br><br><br><br><br>
  


 



  <!-- Explication Section -->
  <style>
    #section_info{
      width:700px;
  }
  </style>
  <center>
  <section class="page-section bg-dark text-white" id='section_info'>
    <div class="container">
      <h2 class="text-center mt-0" style='color:black;'>Nos Prévoyances</h2>
      <br><br>
      <div class="row">
        <div class="col-lg-8 col-md-6 text-center" id="resumText">
         <h3>Son fonctionnement</h3>
         <br>
         <p id="resum">Afin de faire notre prévoyance nous avons récupéré à partir de différentes sources
         plusieurs informations que vous pouvez voir sous la rubrique sos données.<br><br>
         Chaque jour et à chaque heure par une tache cron nous avons alimenté notre base de données.
         Nous récupérons alors chaque condition en temps réel lorsque vous appuyez sur une des entrées.
         Nous les comparons à notre base de données. Faisons ressortir toutes les situations identiques
         à la situation présente et récupérons les données de pollution lui associé.
         Puis en faisons une moyenne.</p>
        </div>
        <div class="col-lg-8 col-md-6 text-center" id="resumText">
        <br><br>
         <h3>Son interet</h3>
         <br>
         <p id="resum">Par cela nous pouvons vous tenir informé du taux de pollution dans ces villes. Mais aussi
         de pouvoir comprendre d'où vient la pollution/<br><br>
         Bien sur, nos données peuvent être fausse et ne sont pas complètes.</p>
        </div>
        <div class="col-lg-8 col-md-6 text-center" id="resumText">
         <br><br>
         <h3>Son amélioration</h3>
         <br>
         <p id="resum">Bien sur, nos prédictions ne semblent pas être fiables.
         Par le manque de données et de connaissance en pollution et en développement.<br><br>
         Nous avons tenté une approche où l'on coterait chaque condition mais nous n'avons pas assez
         de données pour le moment.</p>
        </div>
      </div>
    </div>
  </section></center><br><br>


  <section class="page-section" id="reso">
    <div>
      {% include "bottom_page_pollution2.html" %}
      {% block content2 %}
      {% endblock content2%}
    </div>
  </section>



</body>


</html>



<style>
#reso{
    padding:0;
}
@media screen and (min-width: 320px) and (max-width:374px) {
  #conteneur{
    margin-top:-300px;
    margin-top:50px;
  }
  #p_ville3,
  #p_ville2,
  #p_ville1{
    font-size:50px;
    height:150px;
  }
  #info1,
  #info2,
  #info3{
    display:none;
  }
  #separate_line2,
  #separate_line3,
  #separate_line1{
    width:50px;
  }
  #text{
    float:none;
    margin-left:280px;
    font-size:6vw;
  }
  #choix{
    font-size:30px;
    margin-left:15%;
    width:400px;
  }
  #chargement{
    text-align:center;
  }
  #pred{
    margin-left:10%;
    font-size:30px;
    width:600px;
    text-align:center;
  }
  #section_info{
    font-size:8vw;
  }
}



@media screen and (min-width: 375px) and (max-width:424px) {
  #conteneur{
    margin-top:-300px;
    margin-top:50px;
  }
  #p_ville3,
  #p_ville2,
  #p_ville1{
    font-size:50px;
    height:150px;
  }
  #info1,
  #info2,
  #info3{
    display:none;
  }
  #separate_line2,
  #separate_line3,
  #separate_line1{
    width:50px;
  }
  #text{
    float:none;
    margin-left:280px;
    font-size:5vw;
  }
  #choix{
    font-size:30px;
    margin-left:15%;
    width:400px;
  }
  #chargement{
    text-align:center;
  }
  #pred{
    margin-left:10%;
    font-size:30px;
    width:600px;
    text-align:center;
  }
  #section_info{
    font-size:8vw;
  }
}






@media screen and (min-width: 425px) and (max-width:506px) {
  #conteneur{
    margin-top:50px;
  }
  #p_ville3,
  #p_ville2,
  #p_ville1{
    font-size:30px;
    height:150px;
    margin-left:-100px;
  }
  #info1,
  #info2,
  #info3{
    display:none;
  }
  #separate_line2,
  #separate_line3,
  #separate_line1{
    width:50px;
  }
  #text{
    float:none;
    margin-left:200px;
    font-size:4vw;
  }
  #choix{
    font-size:30px;
    margin-left:15%;
    width:400px;
  }
  #chargement{
    text-align:center;
  }
  #pred{
    margin-left:10%;
    font-size:30px;
    width:600px;
    text-align:center;
  }
  #section_info{
    font-size:8vw;
  }
}


@media screen and (min-width: 507px) and (max-width:575px) {
  #conteneur{
    margin-top:-300px;
    margin-top:40px;
  }
  #p_ville3,
  #p_ville2,
  #p_ville1{
    font-size:35px;
    height:150px;
    margin-left:-100px;
  }
  #info1,
  #info2,
  #info3{
    display:none;
  }
  #separate_line2,
  #separate_line3,
  #separate_line1{
    width:50px;
  }
  #text{
    float:none;
    margin-left:250px;
    font-size:3.5vw;
  }
  #choix{
    font-size:30px;
    margin-left:15%;
    width:400px;
  }
  #chargement{
    text-align:center;
  }
  #pred{
    margin-left:10%;
    font-size:30px;
    width:600px;
    text-align:center;
  }
  #section_info{
    font-size:vw;
  }
}



@media screen and (min-width: 575px) and (max-width:800px) {
  #conteneur{
    width:600px;
    margin-left:10%;
    margin-top:50px;
  }
  #p_ville3,
  #p_ville2,
  #p_ville1{
    font-size:35px;
    text-align:center;
    width:500px;
    

  }
  #info1,
  #info2,
  #info3{
    display:none;
  }
  #separate_line2,
  #separate_line3,
  #separate_line1{
    width:50px;
  }
  #text{
    float:none;
    margin-left:300px;
    font-size:3vw;
  }
  #choix{
    text-align:center;
    font-size:20px;
  }
  #chargement{
    text-align:center;
  }
  #pred{
    font-size:20px;
    text-align:center;
    margin-top:-20px;
  }
  #section_info{
    font-size:2vw;
  }
}


@media screen and (min-width: 801px) and (max-width:1000px) {
  #conteneur{
    margin-top:50px;
    width:100%;
    margin-left:20%;
  }
  #p_ville3,
  #p_ville2,
  #p_ville1{
    font-size:35px;
    text-align:center;
    width:800px;
    
  }
  #info1,
  #info2,
  #info3{
  }
  #separate_line2,
  #separate_line3,
  #separate_line1{
    width:50px;
  }
  #text{
    float:none;
    margin-left:650px;
    font-size:2.5vw;
  }
  #choix{
    font-size:20px;
    text-align:center;
  }
  #chargement{
    text-align:center;
  }
  #pred{
    font-size:20px;
    text-align:center;
    margin-top:-20px;
  }
  #section_info{
    text-align:center;
    font-size:2vw;
    margin-left:20%;
  }
}





</style>



































<script>

      function one(div, ville){
        document.getElementById(div).style.background = "red";
        if(ville == 'info1'){
          document.getElementById(ville).innerHTML = 'LYON';
        }
        else if(ville == 'info2'){
          document.getElementById(ville).innerHTML = 'MASYLLLIA';
        }
        else if(ville == 'info3'){
          document.getElementById(ville).innerHTML = 'PARIS';
        }
      };
      
      function two(div, ville){
        document.getElementById(div).style.background = "black";
        document.getElementById(ville).innerHTML = '';
      };














//Here we call database and analysa2.py for lyon

jQuery("#lyon").on("click", function(e){

    //we "raise" the pred div, display you choose lyon city
    //and display the loading logo

    document.getElementById('pred').innerHTML = ""
    document.getElementById('choix').innerHTML = 'Vous avez choisis Lyon';
    document.getElementById('chargement').style.display = "block";

    jQuery.ajax({
        data:{
            'lyon':'lyon',
            csrfmiddlewaretoken:'{{ csrf_token }}'
        },
        type:"POST",
        url:"/polution/prediction"
    })
    .done(function(data){
        if (data.error){
            jQuery("#monCadreAlert").text(data.error);
            jQuery("#is_save"); 
        }
        else{
            jQuery("#is_save").html(data.data);
            jQuery("#monCadreAlert");

            document.getElementById('chargement').style.display = "none";      
            
            if (data == "pas de donn\u00e9e"){
                document.getElementById('pred').innerHTML = "<br><br><strong>pas de donn\u00e9e</strong>";
            }
            else{
              
              document.getElementById('pred').innerHTML = '<br><br>' +
                                                          'Nous pensons que le taux de polution est de: '+
                                                          '<strong>' +
                                                          data +
                                                          ' AQI</strong>';
            };      
        };
        
    });
});




//Here we call database and analysa2.py for paris
jQuery("#paris").on("click", function(e){


    //we "raise" the pred div, display you choose paris city
    //and display the loading logo
    document.getElementById('choix').innerHTML = 'Vous avez choisis Paris';
    document.getElementById('chargement').style.display = "block";
    document.getElementById('pred').innerHTML = ""
    
    jQuery.ajax({
        data:{
            'paris':'paris',
            csrfmiddlewaretoken:'{{ csrf_token }}'
        },
        type:"POST",
        url:"/polution/prediction"
    })
    .done(function(data){
        if (data.error){
            jQuery("#monCadreAlert").text(data.error);
            jQuery("#is_save"); 
        }
        else{
            jQuery("#is_save").html(data.data);
            jQuery("#monCadreAlert");

            document.getElementById('chargement').style.display = "none";
            
          if (data == "pas de donn\u00e9e"){
                document.getElementById('pred').innerHTML = "<br><br><strong>pas de donn\u00e9e</strong>";
            }
            else{
            document.getElementById('pred').innerHTML = '<br><br>' +
                                                        'Nous pensons que le taux de polution est de : '+
                                                        '<strong>' +
                                                        data +
                                                        '</strong>';

            };            
        };
    });
});




//Here we call database and analysa2.py for marseille
jQuery("#marseille").on("click", function(e){


    //we "raise" the pred div, display you choose marseille city
    //and display the loading logo
    document.getElementById('choix').innerHTML = 'Vous avez choisis Marseille';
    document.getElementById('chargement').style.display = "block";
    document.getElementById('pred').innerHTML = ""
    
    jQuery.ajax({
        data:{
            'marseille':'marseille',
            csrfmiddlewaretoken:'{{ csrf_token }}'
        },
        type:"POST",
        url:"/polution/prediction"
    })
    .done(function(data){
        if (data.error){
            jQuery("#monCadreAlert").text(data.error);
            jQuery("#is_save"); 
        }
        else{
            jQuery("#is_save").html(data.data);
            jQuery("#monCadreAlert");
            
            document.getElementById('chargement').style.display = "none";
            
          if (data == "pas de donn\u00e9e"){
                document.getElementById('pred').innerHTML = "<br><br><strong>pas de donn\u00e9e</strong>";
            }

            else{
              document.getElementById('pred').innerHTML = '<br><br>' +
                                                        'Nous pensons que le taux de polution est de : '+
                                                        '<strong>' +
                                                        data +
                                                        '</strong>';
            };            
        }; 
    });
});



      
</script>



























